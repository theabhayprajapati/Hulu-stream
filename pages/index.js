import Head from 'next/head'
import Image from 'next/image'
// import { Result } from 'postcss'
import Header from '../components/Header'
import Nav from '../components/Navbar'
import Results from '../components/Results'
import requests from '../utils/requests'
export default function Home({ results }) {
  // console.log({results})
  return (
    <div>
      <Head>
        <title>Hulu Stream | Stream Movies, TV shows and more</title>
        <link
          rel="shortcut icon"
          href="data:image/jpeg;base64,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"
          type="image/x-icon"
        />
      </Head>

      {/* Header */}
      <Header />
      {/*  Navbar */}
      <Nav />
      <Results results={results} />
    </div>
  )
}

export async function getServerSideProps(context) {
  const genre = context.query.genre

  const request = await fetch(
    `https://api.themoviedb.org/3${
      requests[genre]?.url || requests.fetchTrending.url
    }`,
  ).then((resp) => resp.json())

  return {
    props: {
      results: request.results,
    },
  }
}
